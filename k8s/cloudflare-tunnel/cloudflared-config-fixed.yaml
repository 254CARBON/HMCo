apiVersion: v1
kind: ConfigMap
metadata:
  name: cloudflared-config
  namespace: cloudflare-tunnel
  labels:
    app.kubernetes.io/name: cloudflare-tunnel
data:
  config.yaml: |
    tunnel: 291bc289-e3c3-4446-a9ad-8e327660ecd5
    credentials-file: /etc/cloudflare-tunnel/creds/credentials.json
    metrics: 0.0.0.0:2000
    metrics-update-freq: 5s

    ingress:
      - hostname: portal.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: portal.254carbon.com
          noTLSVerify: true
      - hostname: www.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: www.254carbon.com
          noTLSVerify: true
      - hostname: grafana.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: grafana.254carbon.com
          noTLSVerify: true
      - hostname: superset.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: superset.254carbon.com
          noTLSVerify: true
      - hostname: datahub.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: datahub.254carbon.com
          noTLSVerify: true
      - hostname: trino.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: trino.254carbon.com
          noTLSVerify: true
      - hostname: doris.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: doris.254carbon.com
          noTLSVerify: true
      - hostname: vault.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: vault.254carbon.com
          noTLSVerify: true
      - hostname: minio.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: minio.254carbon.com
          noTLSVerify: true
      - hostname: dolphin.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: dolphin.254carbon.com
          noTLSVerify: true
      - hostname: lakefs.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: lakefs.254carbon.com
          noTLSVerify: true
      - hostname: mlflow.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: mlflow.254carbon.com
          noTLSVerify: true
      - hostname: spark-history.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: spark-history.254carbon.com
          noTLSVerify: true
      - hostname: harbor.254carbon.com
        service: http://ingress-nginx-controller.ingress-nginx:80
        originRequest:
          httpHostHeader: harbor.254carbon.com
          noTLSVerify: true
      - service: http_status:404

