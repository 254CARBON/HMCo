apiVersion: v1
kind: ConfigMap
metadata:
  name: skip-swap-check
  namespace: data-platform
data:
  skip-swap-check.sh: |
    #!/bin/bash
    # Ensure the Doris entrypoint skips OS swap and ulimit enforcement
    export SKIP_CHECK_ULIMIT=true
    export SKIP_SWAP_CHECK=true

    # Delegate to the default Doris BE entrypoint with original arguments
    exec /opt/apache-doris/be_entrypoint.sh "$@"
