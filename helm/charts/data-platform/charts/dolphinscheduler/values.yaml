# DolphinScheduler values
replicaCount:
  api: 3
  master: 1
  worker: 2
  alert: 1

image:
  repository: apache/dolphinscheduler
  tag: "3.2.0"
  pullPolicy: IfNotPresent

service:
  api:
    type: ClusterIP
    port: 12345
  master:
    type: ClusterIP
    port: 5678
  worker:
    type: ClusterIP
    port: 1234
  alert:
    type: ClusterIP
    port: 50053

ingress:
  enabled: true
  className: nginx
  hostname: dolphinscheduler.254carbon.com
  tls: true
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod

postgresql:
  enabled: true
  host: postgres-workflow-service
  port: 5432
  database: dolphinscheduler
  username: postgres

zookeeper:
  enabled: true
  host: zookeeper-service
  port: 2181

resources:
  api:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2000m
      memory: 4Gi
  master:
    requests:
      cpu: 1000m
      memory: 2Gi
    limits:
      cpu: 2000m
      memory: 4Gi
  worker:
    requests:
      cpu: 2000m
      memory: 4Gi
    limits:
      cpu: 4000m
      memory: 8Gi
  alert:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 500m
      memory: 1Gi

autoscaling:
  enabled: true
  api:
    minReplicas: 2
    maxReplicas: 6
    targetCPUUtilizationPercentage: 70
  worker:
    minReplicas: 2
    maxReplicas: 8
    targetCPUUtilizationPercentage: 70


