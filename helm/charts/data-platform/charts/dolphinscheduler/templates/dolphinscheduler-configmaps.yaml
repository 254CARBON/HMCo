---
# DolphinScheduler API Server ConfigMaps
apiVersion: v1
kind: ConfigMap
metadata:
  name: api-server
  namespace: data-platform
data:
  dolphinscheduler-api.properties: |
    # DolphinScheduler API Server Configuration
    server.port=12345
    spring.profiles.active=postgresql
    spring.datasource.url=jdbc:postgresql://postgres-workflow-service:5432/dolphinscheduler
    spring.datasource.username=dolphinscheduler
    spring.datasource.driver-class-name=org.postgresql.Driver
    registry.type=zookeeper
    registry.zookeeper.connect-string=zookeeper-service:2181
    registry.zookeeper.namespace=dolphinscheduler
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: api-server-kubernetes
  namespace: data-platform
data:
  kubernetes.namespace: "data-platform"
  kubernetes.config: "~/.kube/config"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: api-server-postgresql
  namespace: data-platform
data:
  postgresql.host: "postgres-workflow-service"
  postgresql.port: "5432"
  postgresql.database: "dolphinscheduler"
  postgresql.username: "dolphinscheduler"
