# Kong Routes Configuration
# Define URL paths and routing rules for all services

---
# DataHub GMS Routes
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: datahub-gms-api
  namespace: kong
spec:
  service: datahub-gms
  paths:
  - /api/datahub
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https
  methods:
  - GET
  - POST
  - PUT
  - DELETE
  - PATCH

---
# Trino Query Interface
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: trino-api
  namespace: kong
spec:
  service: trino
  paths:
  - /api/trino
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https

---
# Trino UI
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: trino-ui
  namespace: kong
spec:
  service: trino
  paths:
  - /ui/trino
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https
  methods:
  - GET

---
# Superset API
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: superset-api
  namespace: kong
spec:
  service: superset
  paths:
  - /api/superset
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https

---
# DolphinScheduler API
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: dolphinscheduler-api
  namespace: kong
spec:
  service: dolphinscheduler
  paths:
  - /api/dolphinscheduler
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https

---
# MinIO S3 API
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: minio-s3-api
  namespace: kong
spec:
  service: minio-api
  paths:
  - /api/s3
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https

---
# MLflow API
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: mlflow-api
  namespace: kong
spec:
  service: mlflow
  paths:
  - /api/mlflow
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https

---
# Iceberg REST Catalog
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: iceberg-rest-api
  namespace: kong
spec:
  service: iceberg-rest
  paths:
  - /api/iceberg
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https

---
# Portal Services API
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: portal-services-api
  namespace: kong
spec:
  service: portal-services
  paths:
  - /api/services
  strip_path: false
  preserve_host: false
  protocols:
  - http
  - https

---
# Grafana Proxy
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: grafana-api
  namespace: kong
spec:
  service: grafana
  paths:
  - /api/grafana
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https

---
# Prometheus Query API
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: prometheus-api
  namespace: kong
spec:
  service: prometheus
  paths:
  - /api/prometheus
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https
  methods:
  - GET
  - POST

---
# Kafka REST Proxy
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: kafka-rest-api
  namespace: kong
spec:
  service: kafka-rest
  paths:
  - /api/kafka
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https

---
# Schema Registry API
apiVersion: configuration.konghq.com/v1
kind: KongRoute
metadata:
  name: schema-registry-api
  namespace: kong
spec:
  service: schema-registry
  paths:
  - /api/schema-registry
  strip_path: true
  preserve_host: false
  protocols:
  - http
  - https



